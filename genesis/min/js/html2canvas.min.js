!function(t,e,n){"use strict";function r(e){l.logging&&t.console&&t.console.log&&t.console.log(e)}function o(t,e,n,r,o,a){var i,c,s,d,h=l.Util.getCSS(e,t,o);if(1===h.length&&(d=h[0],(h=[])[0]=d,h[1]=d),-1!==h[0].toString().indexOf("%"))s=parseFloat(h[0])/100,c=n.width*s,"backgroundSize"!==t&&(c-=(a||r).width*s);else if("backgroundSize"===t)if("auto"===h[0])c=r.width;else if(h[0].match(/contain|cover/)){var u=l.Util.resizeBounds(r.width,r.height,n.width,n.height,h[0]);c=u.width,i=u.height}else c=parseInt(h[0],10);else c=parseInt(h[0],10);return"auto"===h[1]?i=c/r.width*r.height:-1!==h[1].toString().indexOf("%")?(s=parseFloat(h[1])/100,i=n.height*s,"backgroundSize"!==t&&(i-=(a||r).height*s)):i=parseInt(h[1],10),[c,i]}function a(t){return{zindex:t,children:[]}}var i,l={};l.Util={},l.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),l.Util.parseBackgroundImage=function(t){var e,n,r,o,a,i,l,c,s=[],d=0,h=0,u=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&c.push(n),"-"===e.substr(0,1)&&(o=e.indexOf("-",1)+1)>0&&(r=e.substr(0,o),e=e.substr(o)),s.push({prefix:r,method:e.toLowerCase(),value:a,args:c})),c=[],e=r=n=a=""};u();for(var p=0,f=t.length;p<f;p++)if(i=t[p],!(0===d&&" \r\n\t".indexOf(i)>-1)){switch(i){case'"':l?l===i&&(l=null):l=i;break;case"(":if(l)break;if(0===d){d=1,a+=i;continue}h++;break;case")":if(l)break;if(1===d){if(0===h){d=0,a+=i,u();continue}h--}break;case",":if(l)break;if(0===d){u();continue}if(1===d&&0===h&&!e.match(/^url$/i)){c.push(n),n="",a+=i;continue}}a+=i,0===d?e+=i:n+=i}return u(),s},l.Util.Bounds=function(t){var e,n={};if(t.getBoundingClientRect)return e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=e.width||e.right-e.left,n.height=e.height||e.bottom-e.top,n},l.Util.getCSS=function(t,r,o){function a(e,n){var r,o=t.runtimeStyle&&t.runtimeStyle[e],a=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=a.left,o&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":n||0,n=a.pixelLeft+"px",a.left=r,o&&(t.runtimeStyle.left=o)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}var c,s=r.match(/^background(Size|Position)$/);if(void 0!==t&&(i=e.defaultView.getComputedStyle(t,null)),c=i[r],s)if(c=(c||"").split(","),c=c[o||0]||c[0]||"auto",c=l.Util.trimText(c).split(" "),"backgroundSize"!==r||c[0]&&!c[0].match(/cover|contain|auto/)){if(c[0]=-1===c[0].indexOf("%")?a(r+"X",c[0]):c[0],c[1]===n){if("backgroundSize"===r)return c[1]="auto",c;c[1]=c[0]}c[1]=-1===c[1].indexOf("%")?a(r+"Y",c[1]):c[1]}else;else if(/border(Top|Bottom)(Left|Right)Radius/.test(r)){var d=c.split(" ");d.length<=1&&(d[1]=d[0]),d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10),c=d}return c},l.Util.resizeBounds=function(t,e,n,r,o){var a,i,l=t/e;return o&&"auto"!==o?n/r<l^"contain"===o?(i=r,a=r*l):(a=n,i=n/l):(a=n,i=r),{width:a,height:i}},l.Util.BackgroundPosition=function(t,e,n,r,a){var i=o("backgroundPosition",t,e,n,r,a);return{left:i[0],top:i[1]}},l.Util.BackgroundSize=function(t,e,n,r){var a=o("backgroundSize",t,e,n,r);return{width:a[0],height:a[1]}},l.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},l.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];return null!==t&&function(t,e){var r=t.length,o=0;if("number"==typeof e.length)for(var a=e.length;o<a;o++)t[r++]=e[o];else for(;e[o]!==n;)t[r++]=e[o++];t.length=r}(e,t),e}(t.childNodes)}catch(t){r("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},l.Util.Font=function(){var t={};return function(e,r,o){if(t[e+"-"+r]!==n)return t[e+"-"+r];var a,i,l,c=o.createElement("div"),s=o.createElement("img"),d=o.createElement("span");return c.style.visibility="hidden",c.style.fontFamily=e,c.style.fontSize=r,c.style.margin=0,c.style.padding=0,o.body.appendChild(c),s.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",d.style.fontFamily=e,d.style.fontSize=r,d.style.margin=0,d.style.padding=0,d.appendChild(o.createTextNode("Hidden Text")),c.appendChild(d),c.appendChild(s),a=s.offsetTop-d.offsetTop+1,c.removeChild(d),c.appendChild(o.createTextNode("Hidden Text")),c.style.lineHeight="normal",s.style.verticalAlign="super",i=s.offsetTop-c.offsetTop+1,l={baseline:a,lineWidth:1,middle:i},t[e+"-"+r]=l,o.body.removeChild(c),l}}(),function(){l.Generate={};var t=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];l.Generate.parseGradient=function(e,n){var r,o,a,i,l,c,s,d,h,u,p,f,g=t.length;for(o=0;o<g&&!(a=e.match(t[o]));o+=1);if(a)switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(r={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},l=a[2].match(/\w+/g))for(c=l.length,o=0;o<c;o+=1)switch(l[o]){case"top":r.y0=0,r.y1=n.height;break;case"right":r.x0=n.width,r.x1=0;break;case"bottom":r.y0=n.height,r.y1=0;break;case"left":r.x0=0,r.x1=n.width}if(null===r.x0&&null===r.x1&&(r.x0=r.x1=n.width/2),null===r.y0&&null===r.y1&&(r.y0=r.y1=n.height/2),l=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=l.length,s=1/Math.max(c-1,1),o=0;o<c;o+=1)(d=l[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(i=parseFloat(d[2]),"%"===d[3]?i/=100:i/=n.width):i=o*s,r.colorStops.push({color:d[1],stop:i});break;case"-webkit-gradient":if(r={type:"radial"===a[2]?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},(l=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))&&(r.x0=l[1]*n.width/100,r.y0=l[2]*n.height/100,r.x1=l[3]*n.width/100,r.y1=l[4]*n.height/100),l=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(c=l.length,o=0;o<c;o+=1)d=l[o].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),i=parseFloat(d[2]),"from"===d[1]&&(i=0),"to"===d[1]&&(i=1),r.colorStops.push({color:d[3],stop:i});break;case"-moz-linear-gradient":if(r={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},(l=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(r.x0=l[1]*n.width/100,r.y0=l[2]*n.height/100,r.x1=n.width-r.x0,r.y1=n.height-r.y0),l=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(c=l.length,s=1/Math.max(c-1,1),o=0;o<c;o+=1)(d=l[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/))[2]?(i=parseFloat(d[2]),d[3]&&(i/=100)):i=o*s,r.colorStops.push({color:d[1],stop:i});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(r={type:"circle",x0:0,y0:0,x1:n.width,y1:n.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},(l=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(r.cx=l[1]*n.width/100,r.cy=l[2]*n.height/100),l=a[3].match(/\w+/),d=a[4].match(/[a-z\-]*/),l&&d)switch(d[0]){case"farthest-corner":case"cover":case"":h=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.cy,2)),u=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.y1-r.cy,2)),p=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.y1-r.cy,2)),f=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.cy,2)),r.rx=r.ry=Math.max(h,u,p,f);break;case"closest-corner":h=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.cy,2)),u=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.y1-r.cy,2)),p=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.y1-r.cy,2)),f=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.cy,2)),r.rx=r.ry=Math.min(h,u,p,f);break;case"farthest-side":"circle"===l[0]?r.rx=r.ry=Math.max(r.cx,r.cy,r.x1-r.cx,r.y1-r.cy):(r.type=l[0],r.rx=Math.max(r.cx,r.x1-r.cx),r.ry=Math.max(r.cy,r.y1-r.cy));break;case"closest-side":case"contain":"circle"===l[0]?r.rx=r.ry=Math.min(r.cx,r.cy,r.x1-r.cx,r.y1-r.cy):(r.type=l[0],r.rx=Math.min(r.cx,r.x1-r.cx),r.ry=Math.min(r.cy,r.y1-r.cy))}if(l=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=l.length,s=1/Math.max(c-1,1),o=0;o<c;o+=1)(d=l[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(i=parseFloat(d[2]),"%"===d[3]?i/=100:i/=n.width):i=o*s,r.colorStops.push({color:d[1],stop:i})}return r},l.Generate.Gradient=function(t,n){if(0!==n.width&&0!==n.height){var o,a,i,c,s=e.createElement("canvas"),d=s.getContext("2d");if(s.width=n.width,s.height=n.height,o=l.Generate.parseGradient(t,n))if("linear"===o.type){for(a=d.createLinearGradient(o.x0,o.y0,o.x1,o.y1),i=0,c=o.colorStops.length;i<c;i+=1)try{a.addColorStop(o.colorStops[i].stop,o.colorStops[i].color)}catch(e){r(["failed to add color stop: ",e,"; tried to add: ",o.colorStops[i],"; stop: ",i,"; in: ",t])}d.fillStyle=a,d.fillRect(0,0,n.width,n.height)}else if("circle"===o.type){for(a=d.createRadialGradient(o.cx,o.cy,0,o.cx,o.cy,o.rx),i=0,c=o.colorStops.length;i<c;i+=1)try{a.addColorStop(o.colorStops[i].stop,o.colorStops[i].color)}catch(e){r(["failed to add color stop: ",e,"; tried to add: ",o.colorStops[i],"; stop: ",i,"; in: ",t])}d.fillStyle=a,d.fillRect(0,0,n.width,n.height)}else if("ellipse"===o.type){var h=e.createElement("canvas"),u=h.getContext("2d"),p=Math.max(o.rx,o.ry),f=2*p;for(h.width=h.height=f,a=u.createRadialGradient(o.rx,o.ry,0,o.rx,o.ry,p),i=0,c=o.colorStops.length;i<c;i+=1)try{a.addColorStop(o.colorStops[i].stop,o.colorStops[i].color)}catch(e){r(["failed to add color stop: ",e,"; tried to add: ",o.colorStops[i],"; stop: ",i,"; in: ",t])}u.fillStyle=a,u.fillRect(0,0,f,f),d.fillStyle=o.colorStops[i-1].color,d.fillRect(0,0,s.width,s.height),d.drawImage(h,o.cx-o.rx,o.cy-o.ry,2*o.rx,2*o.ry)}return s}},l.Generate.ListAlpha=function(t){var e,n="";do{e=t%26,n=String.fromCharCode(e+64)+n,t/=26}while(26*t>26);return n},l.Generate.ListRoman=function(t){var e,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],o="",a=n.length;if(t<=0||t>=4e3)return t;for(e=0;e<a;e+=1)for(;t>=r[e];)t-=r[e],o+=n[e];return o}}(),l.Parse=function(o,i){function c(){return Math.max(Math.max(F.body.scrollWidth,F.documentElement.scrollWidth),Math.max(F.body.offsetWidth,F.documentElement.offsetWidth),Math.max(F.body.clientWidth,F.documentElement.clientWidth))}function s(){return Math.max(Math.max(F.body.scrollHeight,F.documentElement.scrollHeight),Math.max(F.body.offsetHeight,F.documentElement.offsetHeight),Math.max(F.body.clientHeight,F.documentElement.clientHeight))}function d(t,e){var n=parseInt($(t,e),10);return isNaN(n)?0:n}function h(t,e,n,r,o,a){"transparent"!==a&&(t.setVariable("fillStyle",a),t.fillRect(e,n,r,o),P+=1)}function u(t,e,n,r){null!==t&&l.Util.trimText(t).length>0&&(r.fillText(t,e,n),P+=1)}function p(t,e,n,r){var o=$(e,"fontWeight"),a=$(e,"fontFamily"),i=$(e,"fontSize");switch(parseInt(o,10)){case 401:o="bold";break;case 400:o="normal"}if(t.setVariable("fillStyle",r),t.setVariable("font",[$(e,"fontStyle"),$(e,"fontVariant"),o,i,a].join(" ")),t.setVariable("textAlign","left"),"none"!==n)return l.Util.Font(a,i,F)}function f(t,e,n,r){var o;if(V.rangeBounds)"none"===n&&0===l.Util.trimText(e).length||(o=function(t,e,n){var r=F.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var a=r?t.node.splitText(e.length):null;o=function(t){var e=t.parentNode,n=F.createElement("wrapper"),r=t.cloneNode(!0);n.appendChild(t.cloneNode(!0)),e.replaceChild(n,t);var o=l.Util.Bounds(n);return e.replaceChild(r,n),o}(t.node),t.node=a}return o}function g(t,e,n){var r,o,a=n.ctx,c=$(t,"color"),s=$(t,"textDecoration"),d=$(t,"textAlign"),g={node:e,textOffset:0};l.Util.trimText(e.nodeValue).length>0&&(e.nodeValue=function(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(t,e,n){if(t.length>0)return e+n.toUpperCase()});case"uppercase":return t.toUpperCase();default:return t}}(e.nodeValue,$(t,"textTransform")),d=d.replace(["-webkit-auto"],["auto"]),o=!i.letterRendering&&/^(left|right|justify|auto)$/.test(d)&&function(t){return/^(normal|none|0px)$/.test(t)}($(t,"letterSpacing"))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),r=p(a,t,s,c),i.chinese&&o.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&((t=t.split("")).unshift(e,1),o.splice.apply(o,t))}),o.forEach(function(t,e){var n=f(g,t,s,e<o.length-1);n&&(u(t,n.left,n.bottom,a),function(t,e,n,r,o){switch(e){case"underline":h(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,o);break;case"overline":h(t,n.left,Math.round(n.top),n.width,1,o);break;case"line-through":h(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,o)}}(a,s,n,r,c))}))}function m(t,e,n){var r,o,a=e.ctx,i=$(t,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(i)){if(r=function(t,e){var n,r=function(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}(t);switch(e){case"decimal":n=r;break;case"decimal-leading-zero":n=1===r.toString().length?r="0"+r.toString():r.toString();break;case"upper-roman":n=l.Generate.ListRoman(r);break;case"lower-roman":n=l.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=l.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=l.Generate.ListAlpha(r)}return n+=". "}(t,i),o=function(t,e){var n,r,o=F.createElement("boundelement");return o.style.display="inline",n=t.style.listStyleType,t.style.listStyleType="none",o.appendChild(F.createTextNode(e)),t.insertBefore(o,t.firstChild),r=l.Util.Bounds(o),t.removeChild(o),t.style.listStyleType=n,r}(t,r),p(a,t,"none",$(t,"color")),"inside"!==$(t,"listStylePosition"))return;a.setVariable("textAlign","left"),u(r,n.left,o.bottom,a)}}function y(t){var e=o[t];return!(!e||!0!==e.succeeded)&&e.img}function w(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return{left:n,top:r,width:Math.min(t.left+t.width,e.left+e.width)-n,height:Math.min(t.top+t.height,e.top+e.height)-r}}function b(t,e,n,r,o){var a=d(e,"paddingLeft"),i=d(e,"paddingTop"),l=d(e,"paddingRight"),c=d(e,"paddingBottom");R(t,n,0,0,n.width,n.height,r.left+a+o[3].width,r.top+i+o[0].width,r.width-(o[1].width+o[3].width+a+l),r.height-(o[0].width+o[2].width+i+c))}function x(t,e,n,r){var o=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(a){var i=o(t,e,a),l=o(e,n,a),c=o(n,r,a),s=o(i,l,a),d=o(l,c,a),h=o(s,d,a);return[x(t,i,s,h),x(h,d,c,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function v(t,e,n,r,o,a,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",a,i]),(n[0]>0||n[1]>0)&&t.push(["line",o[0].start.x,o[0].start.y])}function C(t,e,n,r,o,a,i){var l=[];return e[0]>0||e[1]>0?(l.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(l)):l.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(l.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(l),l.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(l)):(l.push(["line",t.c2[0],t.c2[1]]),l.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(l.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(l)):l.push(["line",t.c4[0],t.c4[1]]),l}function S(t,e,n){var r,o,a,i,l,c,s=e.left,d=e.top,h=e.width,u=e.height,p=function(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return $(t,"border"+e+"Radius")})}(t),f=function(t,e,n){var r=t.left,o=t.top,a=t.width,i=t.height,l=e[0][0],c=e[0][1],s=e[1][0],d=e[1][1],h=e[2][0],u=e[2][1],p=e[3][0],f=e[3][1],g=a-s,m=i-h,y=a-u,w=i-f;return{topLeftOuter:H(r,o,l,c).topLeft.subdivide(.5),topLeftInner:H(r+n[3].width,o+n[0].width,Math.max(0,l-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:H(r+g,o,s,d).topRight.subdivide(.5),topRightInner:H(r+Math.min(g,a+n[3].width),o+n[0].width,g>a+n[3].width?0:s-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:H(r+y,o+m,u,h).bottomRight.subdivide(.5),bottomRightInner:H(r+Math.min(y,a+n[3].width),o+Math.min(m,i+n[0].width),Math.max(0,u-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:H(r,o+w,p,f).bottomLeft.subdivide(.5),bottomLeftInner:H(r+n[3].width,o+w,Math.max(0,p-n[3].width),Math.max(0,f-n[2].width)).bottomLeft.subdivide(.5)}}(e,p,n),g={clip:function(t,e,n,r,o){var a=[];switch($(t,"backgroundClip")){case"content-box":case"padding-box":v(a,r[0],r[1],e.topLeftInner,e.topRightInner,o.left+n[3].width,o.top+n[0].width),v(a,r[1],r[2],e.topRightInner,e.bottomRightInner,o.left+o.width-n[1].width,o.top+n[0].width),v(a,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,o.left+o.width-n[1].width,o.top+o.height-n[2].width),v(a,r[3],r[0],e.bottomLeftInner,e.topLeftInner,o.left+n[3].width,o.top+o.height-n[2].width);break;default:v(a,r[0],r[1],e.topLeftOuter,e.topRightOuter,o.left,o.top),v(a,r[1],r[2],e.topRightOuter,e.bottomRightOuter,o.left+o.width,o.top),v(a,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,o.left+o.width,o.top+o.height),v(a,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,o.left,o.top+o.height)}return a}(t,f,n,p,e),borders:[]};for(r=0;r<4;r++)if(n[r].width>0){switch(o=s,a=d,i=h,l=u-n[2].width,r){case 0:l=n[0].width,c=C({c1:[o,a],c2:[o+i,a],c3:[o+i-n[1].width,a+l],c4:[o+n[3].width,a+l]},p[0],p[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:c=C({c1:[(o=s+h-n[1].width)+(i=n[1].width),a],c2:[o+i,a+l+n[2].width],c3:[o,a+l],c4:[o,a+n[0].width]},p[1],p[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:c=C({c1:[o+i,(a=a+u-n[2].width)+(l=n[2].width)],c2:[o,a+l],c3:[o+n[3].width,a],c4:[o+i-n[2].width,a]},p[2],p[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:i=n[3].width,c=C({c1:[o,a+l+n[2].width],c2:[o,a],c3:[o+i,a+n[0].width],c4:[o+i,a+l]},p[3],p[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}g.borders.push({args:c,color:n[r].color})}return g}function k(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function T(t,e,n){var o,a,i=F.createElement("valuewrap");["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"].forEach(function(e){try{i.style[e]=$(t,e)}catch(t){r("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}}),i.style.borderColor="black",i.style.borderStyle="solid",i.style.display="block",i.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(i.style.lineHeight=$(t,"height")),i.style.top=e.top+"px",i.style.left=e.left+"px",(o="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value)||(o=t.placeholder),a=F.createTextNode(o),i.appendChild(a),G.appendChild(i),g(t,a,n),G.removeChild(i)}function R(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),P+=1}function M(n,o){var a=t.getComputedStyle(n,o);if(a&&a.content&&"none"!==a.content&&"-moz-alt-content"!==a.content){var i=a.content+"",c=i.substr(0,1);c===i.substr(i.length-1)&&c.match(/'|"/)&&(i=i.substr(1,i.length-2));var s="url"===i.substr(0,3),d=e.createElement(s?"img":"span");return d.className=W+"-before "+W+"-after",Object.keys(a).filter(I).forEach(function(t){try{d.style[t]=a[t]}catch(e){r(["Tried to assign readonly property ",t,"Error:",e])}}),s?d.src=l.Util.parseBackgroundImage(i)[0].args[0]:d.innerHTML=i,d}}function I(e){return isNaN(t.parseInt(e,10))}function E(t,e,n,r){var o=Math.round(r.left+n.left),a=Math.round(r.top+n.top);t.createPattern(e),t.translate(o,a),t.fill(),t.translate(-o,-a)}function L(t,e,n,r,o,a,i,l){var c=[];c.push(["line",Math.round(o),Math.round(a)]),c.push(["line",Math.round(o+i),Math.round(a)]),c.push(["line",Math.round(o+i),Math.round(l+a)]),c.push(["line",Math.round(o),Math.round(l+a)]),k(t,c),t.save(),t.clip(),E(t,e,n,r),t.restore()}function O(t,e,n,r,o){var a=l.Util.BackgroundSize(t,e,r,o),i=l.Util.BackgroundPosition(t,e,r,o,a),c=$(t,"backgroundRepeat").split(",").map(function(t){return t.trim()});switch(r=function(t,e){if(t.width===e.width&&t.height===e.height)return t;var n,r=F.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),R(n,t,0,0,t.width,t.height,0,0,e.width,e.height),r}(r,a),c=c[o]||c[0]){case"repeat-x":L(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":L(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":L(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:E(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height})}}function A(t,e,n){var r=function(t,e){var n=[];return{storage:n,width:t,height:e,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return n.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){n.push({type:"variable",name:t,arguments:e})}}}(e?n.width:c(),e?n.height:s()),o={ctx:r,zIndex:function(t,e){var n;return e?"auto"!==t?(n=a(t),e.children.push(n),n):e:n=a(0)}($(t,"zIndex"),e?e.zIndex:null),opacity:function(t,e,n){var r=$(e,"opacity")*(n?n.opacity:1);return t.setVariable("globalAlpha",r),r}(r,t,e),cssPosition:$(t,"position"),borders:function(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:d(t,"border"+e+"Width"),color:$(t,"border"+e+"Color")}})}(t),clip:e&&e.clip?l.Util.Extend({},e.clip):null};return!0===i.useOverflow&&!0===/(hidden|scroll|auto)/.test($(t,"overflow"))&&!1===/(BODY)/i.test(t.nodeName)&&(o.clip=o.clip?w(o.clip,n):n),o.zIndex.children.push(o),o}function U(t,e,n){var o,a=l.Util.Bounds(t),i=D.test(t.nodeName)?"#efefef":$(t,"backgroundColor"),c=A(t,e,a),s=c.borders,d=c.ctx,u=function(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=w(r,n)),r}(s,a,c.clip),p=S(t,a,s);switch(k(d,p.clip),d.save(),d.clip(),u.height>0&&u.width>0&&(function(t,e,n){h(t,e.left,e.top,e.width,e.height,n)}(d,a,i),function(t,e,n){for(var o,a=$(t,"backgroundImage"),i=l.Util.parseBackgroundImage(a),c=i.length;c--;)(a=i[c]).args&&0!==a.args.length&&((o=y("url"===a.method?a.args[0]:a.value))?O(t,e,n,o,c):r("html2canvas: Error loading background:"))}(t,u,d)),d.restore(),p.borders.forEach(function(t){!function(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),k(t,e),t.fill(),P+=1)}(d,t.args,t.color)}),n||function(t,e){var n=M(t,":before"),r=M(t,":after");(n||r)&&(n&&(t.className+=" "+W+"-before",t.parentNode.insertBefore(n,t),z(n,e,!0),t.parentNode.removeChild(n),t.className=t.className.replace(W+"-before","").trim()),r&&(t.className+=" "+W+"-after",t.appendChild(r),z(r,e,!0),t.removeChild(r),t.className=t.className.replace(W+"-after","").trim()))}(t,c),t.nodeName){case"IMG":(o=y(t.getAttribute("src")))?b(d,t,o,a,s):r("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder).length>0&&T(t,a,c);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&T(t,a,c);break;case"SELECT":(t.options||t.placeholder||"").length>0&&T(t,a,c);break;case"LI":m(t,c,u);break;case"CANVAS":b(d,t,t,a,s)}return c}function z(t,e,n){(function(t){return"none"!==$(t,"display")&&"hidden"!==$(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")})(t)&&(e=U(t,e,n)||e,D.test(t.nodeName)||l.Util.Children(t).forEach(function(r){1===r.nodeType?z(r,e,n):3===r.nodeType&&g(t,r,e)}))}function N(){var t=U(B,null);return V.svgRendering&&function(t,e){function n(t){var e,r,o,a,c,s=l.Util.Children(t),d=s.length;for(c=0;c<d;c+=1)if(3===(a=s[c]).nodeType)i+=a.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;");else if(1===a.nodeType&&!/^(script|meta|title)$/.test(a.nodeName.toLowerCase())){if(i+="<"+a.nodeName.toLowerCase(),a.hasAttributes())for(o=(e=a.attributes).length,r=0;r<o;r+=1)i+=" "+e[r].name+'="'+e[r].value+'"';i+=">",n(a),i+="</"+a.nodeName.toLowerCase()+">"}}var r=new Image,o=c(),a=s(),i="";n(t),r.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+o+"' height='"+a+"'>","<foreignObject width='"+o+"' height='"+a+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",i.replace(/\#/g,"%23"),"</html>","</foreignObject>","</svg>"].join(""),r.onload=function(){e.svgRender=r}}(e.documentElement,t),Array.prototype.slice.call(B.children,0).forEach(function(e){z(e,t)}),t.backgroundColor=$(e.documentElement,"backgroundColor"),G.removeChild(j),t}t.scroll(0,0);var B=i.elements===n?e.body:i.elements[0],P=0,F=B.ownerDocument,V=l.Util.Support(i,F),D=new RegExp("("+i.ignoreElements+")"),G=F.body,$=l.Util.getCSS,W="___html2canvas___pseudoelement",j=F.createElement("style");j.innerHTML="."+W+'-before:before { content: "" !important; display: none !important; }.'+W+'-after:after { content: "" !important; display: none !important; }',G.appendChild(j),o=o||{};var H=function(t){return function(e,n,r,o){var a=r*t,i=o*t,l=e+r,c=n+o;return{topLeft:x({x:e,y:c},{x:e,y:c-i},{x:l-a,y:n},{x:l,y:n}),topRight:x({x:e,y:n},{x:e+a,y:n},{x:l,y:c-i},{x:l,y:c}),bottomRight:x({x:l,y:n},{x:l,y:n+i},{x:e+a,y:c},{x:e,y:c}),bottomLeft:x({x:l,y:c},{x:l-a,y:c},{x:e,y:n+i},{x:e,y:n})}}}((Math.sqrt(2)-1)/3*4);return N()},l.Preload=function(o){function a(){r("html2canvas: start: images: "+y.numLoaded+" / "+y.numTotal+" (failed: "+y.numFailed+")"),!y.firstRun&&y.numLoaded>=y.numTotal&&(r("Finished loading images: # "+y.numTotal+" (failed: "+y.numFailed+")"),"function"==typeof o.complete&&o.complete(y))}function i(e,r,i){var l,c,s=o.proxy;S.href=e,e=S.href,l="html2canvas_"+w++,i.callbackname=l,s.indexOf("?")>-1?s+="&":s+="?",s+="url="+encodeURIComponent(e)+"&callback="+l,c=x.createElement("script"),t[l]=function(e){"error:"===e.substring(0,6)?(i.succeeded=!1,y.numLoaded++,y.numFailed++,a()):(u(r,i),r.src=e),t[l]=n;try{delete t[l]}catch(t){}c.parentNode.removeChild(c),c=null,delete i.script,delete i.callbackname},c.setAttribute("type","text/javascript"),c.setAttribute("src",s),i.script=c,t.document.body.appendChild(c)}function c(e,n){var r=t.getComputedStyle(e,n),o=r.content;"url"===o.substr(0,3)&&f.loadImage(l.Util.parseBackgroundImage(o)[0].args[0]),d(r.backgroundImage,e)}function s(t){return t&&t.method&&t.args&&t.args.length>0}function d(t,e){var r;l.Util.parseBackgroundImage(t).filter(s).forEach(function(t){"url"===t.method?f.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(r===n&&(r=l.Util.Bounds(e)),function(t,e){var r=l.Generate.Gradient(t,e);r!==n&&(y[t]={img:r,succeeded:!0},y.numTotal++,y.numLoaded++,a())}(t.value,r))})}function h(t){var e=!1;try{l.Util.Children(t).forEach(function(t){h(t)})}catch(t){}try{e=t.nodeType}catch(t){e=!1,r("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(1===e||e===n){!function(t){c(t,":before"),c(t,":after")}(t);try{d(l.Util.getCSS(t,"backgroundImage"),t)}catch(t){r("html2canvas: failed to get background-image - Exception: "+t.message)}d(t)}}function u(e,r){e.onload=function(){r.timer!==n&&t.clearTimeout(r.timer),y.numLoaded++,r.succeeded=!0,e.onerror=e.onload=null,a()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(r.timer),o.proxy)){var n=e.src;return e=new Image,r.img=e,e.src=n,void i(e.src,e,r)}y.numLoaded++,y.numFailed++,r.succeeded=!1,e.onerror=e.onload=null,a()}}var p,f,g,m,y={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},w=0,b=o.elements[0]||e.body,x=b.ownerDocument,v=x.images,C=v.length,S=x.createElement("a"),k=(new Image).crossOrigin!==n;for(S.href=t.location.href,p=S.protocol+S.host,f={loadImage:function(e){var r,a;e&&y[e]===n&&(r=new Image,e.match(/data:image\/.*;base64,/i)?(r.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),a=y[e]={img:r},y.numTotal++,u(r,a)):!function(t){return S.href=t,S.href=S.href,S.protocol+S.host===p}(e)&&!0!==o.allowTaint?k&&!o.allowTaint&&o.useCORS?(r.crossOrigin="anonymous",a=y[e]={img:r},y.numTotal++,u(r,a),r.src=e,r.customComplete=function(){this.img.complete?this.img.onerror():this.timer=t.setTimeout(this.img.customComplete,100)}.bind(a),r.customComplete()):o.proxy&&(a=y[e]={img:r},y.numTotal++,i(e,r,a)):(a=y[e]={img:r},y.numTotal++,u(r,a),r.src=e))},cleanupDOM:function(i){var l,c;if(!y.cleanupDone){r(i&&"string"==typeof i?"html2canvas: Cleanup because: "+i:"html2canvas: Cleanup after timeout: "+o.timeout+" ms.");for(c in y)if(y.hasOwnProperty(c)&&"object"==typeof(l=y[c])&&l.callbackname&&l.succeeded===n){t[l.callbackname]=n;try{delete t[l.callbackname]}catch(t){}l.script&&l.script.parentNode&&(l.script.setAttribute("src","about:blank"),l.script.parentNode.removeChild(l.script)),y.numLoaded++,y.numFailed++,r("html2canvas: Cleaned up failed img: '"+c+"' Steps: "+y.numLoaded+" / "+y.numTotal)}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),y.cleanupDone=!0,i&&"string"==typeof i||a()}},renderingDone:function(){m&&t.clearTimeout(m)}},o.timeout>0&&(m=t.setTimeout(f.cleanupDOM,o.timeout)),r("html2canvas: Preload starts: finding background-images"),y.firstRun=!0,h(b),r("html2canvas: Preload: Finding images"),g=0;g<C;g+=1)f.loadImage(v[g].getAttribute("src"));return y.firstRun=!1,r("html2canvas: Preload: Done."),y.numTotal===y.numLoaded&&a(),f},l.Renderer=function(t,r){return function(t){var e;if("string"==typeof r.renderer&&l.Renderer[t]!==n)e=l.Renderer[t](r);else{if("function"!=typeof t)throw new Error("Unknown renderer");e=t(r)}if("function"!=typeof e)throw new Error("Invalid renderer defined");return e}(r.renderer)(t,r,e,function(t){var e=[],n=function(t){var r=[],o=[];t.children.forEach(function(t){t.children&&t.children.length>0?(r.push(t),o.push(t.zindex)):e.push(t)}),o.sort(function(t,e){return t-e}),o.forEach(function(t){var e;r.some(function(n,r){return e=r,n.zindex===t}),n(r.splice(e,1)[0])})};return n(t.zIndex),e}(t),l)},l.Util.Support=function(t,e){return{rangeBounds:function(){var t,n,r=!1;return e.createRange&&(t=e.createRange()).getBoundingClientRect&&((n=e.createElement("boundtest")).style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),e.body.removeChild(n)),r}(),svgRendering:t.svgRendering&&function(){var t=new Image,o=e.createElement("canvas"),a=o.getContext!==n&&o.getContext("2d");if(!1===a)return!1;o.width=o.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{a.drawImage(t,0,0),o.toDataURL()}catch(t){return!1}return r("html2canvas: Parse: SVG powered rendering available"),!0}()}},t.html2canvas=function(e,n){var o,a,i={logging:!1,elements:e=e.length?e:[e],background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return i=l.Util.Extend(n,i),l.logging=i.logging,i.complete=function(t){"function"==typeof i.onpreloaded&&!1===i.onpreloaded(t)||(o=l.Parse(t,i),"function"==typeof i.onparsed&&!1===i.onparsed(o)||(a=l.Renderer(o,i),"function"==typeof i.onrendered&&i.onrendered(a)))},t.setTimeout(function(){l.Preload(i)},0),{render:function(t,e){return l.Renderer(t,l.Util.Extend(e,i))},parse:function(t,e){return l.Parse(t,l.Util.Extend(e,i))},preload:function(t){return l.Preload(l.Util.Extend(t,i))},log:r}},t.html2canvas.log=r,t.html2canvas.Renderer={Canvas:n},l.Renderer.Canvas=function(t){function o(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":if("createPattern"===n.name){if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(t){r("html2canvas: Renderer: Error creating pattern",t.message)}}else"drawShape"===n.name?function(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}(e,n.arguments):"drawImage"===n.name?n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&function(t){if(-1===i.indexOf(t.arguments[0].src)){c.drawImage(t.arguments[0],0,0);try{c.getImageData(0,0,1,1)}catch(t){return l=a.createElement("canvas"),c=l.getContext("2d"),!1}i.push(t.arguments[0].src)}return!0}(n))&&e.drawImage.apply(e,n.arguments):e[n.name].apply(e,n.arguments)}}t=t||{};var a=e,i=[],l=e.createElement("canvas"),c=l.getContext("2d"),s=t.canvas||a.createElement("canvas");return function(t,e,a,i,l){var c,d,h,u,p,f,g=s.getContext("2d");if(s.width=s.style.width=e.width||t.ctx.width,s.height=s.style.height=e.height||t.ctx.height,f=g.fillStyle,g.fillStyle=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t}(t.backgroundColor)&&e.background!==n?e.background:t.backgroundColor,g.fillRect(0,0,s.width,s.height),g.fillStyle=f,e.svgRendering&&t.svgRender!==n)g.drawImage(t.svgRender,0,0);else for(d=0,h=i.length;d<h;d+=1)(c=i.splice(0,1)[0]).canvasPosition=c.canvasPosition||{},g.textBaseline="bottom",c.clip&&(g.save(),g.beginPath(),g.rect(c.clip.left,c.clip.top,c.clip.width,c.clip.height),g.clip()),c.ctx.storage&&c.ctx.storage.forEach(o.bind(null,g)),c.clip&&g.restore();if(r("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===(h=e.elements.length)&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName){p=l.Util.Bounds(e.elements[0]),(u=a.createElement("canvas")).width=p.width,u.height=p.height,g=u.getContext("2d");var m=s.getContext("2d").getImageData(p.left,p.top,p.width,p.height);return g.putImageData(m,0,0),s=null,u}return s}}}(window,document);